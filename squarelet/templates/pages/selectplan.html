{% extends "account/base.html" %}

{% load i18n static django_vite %}
{% load handleintent pass_query %}

{% block head_title %}{% trans "Select plan" %}{% endblock %}

{% block vite %}
{{ block.super }}
{% vite_asset "frontend/views/select_plan.ts" %}
{% endblock vite %}

{% block content %}
<article class="container">
  <section class="plan free">
    <header>
    {% if user.is_anonymous %}
      <h2 class="header-display">
        {% blocktrans %}
        <span class="heavy-underline primary">Create your MuckRock account</span> for free, no credit-card required
        {% endblocktrans %}
      </h2>
    {% else %}
      <h2 class="header-display">
        {% trans "Your MuckRock account is on our" %}
        {% if pro_plan %}
        <span class="heavy-underline premium">Premium plan</span>.
        {% else %}
        <span class="heavy-underline primary">free plan</span>.
        {% endif %}
      </h2>
    {% endif %}
    </header>
    <main>
      {% if user.is_anonymous %}
      <div class="plan-actions">
        <a href="{% url 'account_signup' %}{% pass_query %}" class="button primary">
          {% trans  "Sign up for free" %}
        </a>
        <a href="{% url 'account_login' %}{% pass_query %}" class="button primary ghost">
          {% trans "Already have an account? Sign in" %}
        </a>
      </div>
      {% endif %}
      <ul class="checklist">
        <li class="checklist-item">
          <span class="checkmark icon">
            {% include "core/icons/checkmark.svg" %}
          </span>
          <span class="text">
            {% trans "Sign in to services and tools with your MuckRock account" %}
          </span>
        </li>
        <li class="checklist-item">
          <span class="checkmark icon">
            {% include "core/icons/checkmark.svg" %}
          </span>
          <span class="text">
            {% trans "Join and create organizations to collaborate with others" %}
          </span>
        </li>
        <li class="checklist-item">
          <span class="checkmark icon">
            {% include "core/icons/checkmark.svg" %}
          </span>
          <span class="text">
            {% trans "Create and file public records requests with MuckRock Requests" %}
          </span>
        </li>
        <li class="checklist-item">
          <span class="checkmark icon">
            {% include "core/icons/checkmark.svg" %}
          </span>
          <span class="text">
            {% trans "Search documents and create projects with DocumentCloud" %}
          </span>
        </li>
      </ul>
    </main>
  </section>
  <section class="plan premium">
    {% if org_plans %}
      <header>
        <h2 class="header-display">
          {% if org_plans.length == 1 %}
            {% blocktrans %}
              You belong to an organization subscribed to a <span class="heavy-underline premium">Premium plan</span>:
            {% endblocktrans %}
          {% else %}
            {% blocktrans %}
              You belong to multiple organizations subscribed to <span class="heavy-underline premium">Premium plans</span>:
            {% endblocktrans %}
          {% endif %}
        </h2>
        <ul class="org-list">
          {% for org in org_plans %}
          <li class="org">
            {% include "account/team_list_item.html" with organization=org %}
          </li>
          {% endfor %}
        </ul>
      </header>
    {% elif not pro_plan %}
      <header>
        <h2 class="header-display">
          {% blocktrans %}
          <span class="heavy-underline premium">Subscribe to a Premium plan</span> for advanced features and discounts 
          {% endblocktrans %}
        </h2>
      </header>
    {% endif %}
    <main>
      <div class="plan professional">
        <header>
          <span class="person icon">
            {% include "core/icons/person.svg" %}
          </span>
          <h3>{% trans "Premium for professionals" %}</h3>
        </header>
        <main>
          <ul class="checklist">
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Includes 20 requests per month on MuckRock" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Embargo requests for up to 30 days after completion" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Search your private notes on DocumentCloud" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% blocktrans %}
                Includes 2,000 AI Credits per month on DocumentCloud for advanced OCR and <atarget="_blank" rel="noopener noreferrer" href="https://help.muckrock.com/19ef88926963810c9df9e46762194322?pvs=4#19ef8892696381fa8ec6d1bc0c4b5f6a">premium Add-Ons</a>
                {% endblocktrans %}
              </span>
            </li>
          </ul>
        </main>
        <footer>
          <div class="price">
            $40/month
          </div>
          {% if user.is_anonymous %}
          <a class="button premium" href="{% url "account_signup" %}{% pass_query %}&plan=professional">Sign up & subscribe</a>
          {% elif pro_plan %}
          <a class="button" href="{% url "users:payment" username=user.username %}">Manage</a>
          {% else %}
          <a class="button premium" href="{% url "account_onboarding" %}{% pass_query %}&plan=professional">Upgrade</a>
          {% endif %}
        </footer>
      </div>
      <div class="plan organization">
        <header>
          <span class="organization icon">
            {% include "core/icons/organization.svg" %}
          </span>
          <h3>{% trans "Premium for organizations" %}</h3>
        </header>
        <main>
          <ul class="checklist">
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Share resources with unlimited members" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Includes 50 requests per month on MuckRock" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% trans "Permanently embargo requests" %}
              </span>
            </li>
            <li class="checklist-item">
              <span class="checkmark icon">
                {% include "core/icons/checkmark.svg" %}
              </span>
              <span class="text">
                {% blocktrans %}
                Includes 5,000 AI Credits per month on DocumentCloud for advanced OCR and <a target="_blank" rel="noopener noreferrer" href="https://help.muckrock.com/19ef88926963810c9df9e46762194322?pvs=4#19ef8892696381fa8ec6d1bc0c4b5f6a">premium Add-Ons</a>
                {% endblocktrans %}
              </span>
            </li>
          </ul>
        </main>
        <footer>
          <div class="price">
            $100/month
          </div>
          {% if user.is_anonymous %}
          <a class="button premium" href="{% url "account_signup" %}{% pass_query %}&plan=organization">Sign up & subscribe</a>
          {% elif org_plans %}
          <a class="button" href="{% url "users:payment" username=user.username %}{% pass_query %}&plan=organization">Manage</a>
          {% else %}
          <a class="button premium" href="{% url "account_onboarding" %}{% pass_query %}&plan=organization">Subscribe</a>
          {% endif %}
        </footer>
      </div>
      
    </main>
  </section>

  <section class="plan sunlight">
    <header>
      <h2 class="header-display">
        {% blocktrans %}
        Multiply your newsroom&rsquo;s investigative impact with a <span class="heavy-underline nowrap">Sunlight Research Desk Membership</span>
        {% endblocktrans %}
      </h2>
      <div class="description">
        <p>{% trans "Our research experts help newsrooms dig deeper to produce stories with impact." %}</p>
        <p>{% trans "We track down essential documents, analyze complex data sets, and prepare detailed timelines and source lists to help your newsroom build the foundation for investigations." %}</p>
        <p>{% trans "Whether you’re backgrounding a source, tracking campaign money, or connecting the dots in public records — we’re the support system behind the byline." %}</p>
      </div>
    </header>
    <main>
      <div class="sunlight-tiers">
        {% for tier in sunlight_tiers %}
        <div class="tier tier-{{ tier.name|lower }}">
          <header>
            <h3>{{ tier.name }}</h3>
            <p><strong>{{ tier.short_description }}</strong></p>
          </header>
          <main>
            {% if tier.monthly.benefits or tier.annual.benefits %}
            <ul class="checklist">
              {% for benefit in tier.monthly.benefits|default:tier.annual.benefits %}
              <li class="checklist-item">
                <span class="checkmark icon">
                  {% include "core/icons/checkmark.svg" %}
                </span>
                <span class="text">{{ benefit }}</span>
              </li>
              {% endfor %}
            </ul>
            {% endif %}
          </main>
          <footer>
            <div class="pricing">
              {% if tier.annual %}
              <div class="price annual">
                <span class="amount">${{ tier.annual.base_price }}</span>
                <span class="period">/ year</span>
              </div>
              {% endif %}
              {% if tier.monthly %}
              <div class="price monthly">
                <span class="amount">${{ tier.monthly.base_price }}</span>
                <span class="period">/ month</span>
              </div>
              {% endif %}
            </div>
            <div class="actions">
              {% if tier.monthly %}
              {% if user.is_anonymous %}
              <a class="button secondary" href="{% url 'plan_detail' tier.monthly.pk tier.monthly.slug %}{% pass_query %}">
                {% trans "Learn more" %}
              </a>
              {% else %}
              <a class="button secondary" href="{% url 'plan_detail' tier.monthly.pk tier.monthly.slug %}{% pass_query %}">
                {% trans "Subscribe" %}
              </a>
              {% endif %}
              {% elif tier.annual %}
              {% if user.is_anonymous %}
              <a class="button secondary" href="{% url 'plan_detail' tier.annual.pk tier.annual.slug %}{% pass_query %}">
                {% trans "Learn more" %}
              </a>
              {% else %}
              <a class="button secondary" href="{% url 'plan_detail' tier.annual.pk tier.annual.slug %}{% pass_query %}">
                {% trans "Subscribe" %}
              </a>
              {% endif %}
              {% endif %}
            </div>
          </footer>
        </div>
        {% endfor %}
      </div>
    </main>
  </section>
  <section>
    <main>
      <div class="verified plan">
        <header>
          <h2 class="header-display">
            {% blocktrans %}
            Verified newsrooms, journalists, researchers and educators have access to additional reporting and publishing tools
            {% endblocktrans %}
          </h2>
          {% if user.is_anonymous %}
          <p>Apply to verify your organization after signing up or signing in</p>
          {% else %}
          <p><a target="_blank" rel="noopener noreferrer" href="https://help.muckrock.com/19ef8892696381dba944e17e14938433?pvs=4">Learn more about verification</a></p>
          {% endif %}
        </header>
        <main>
          <ul class="services-list">
            <li class="service">
              <div class="identity">
                {% include "core/logos/documentcloud.svg" %}
              </div>
              <ul class="checklist">
                <li class="checklist-item">
                  <span class="checkmark icon">
                    {% include "core/icons/checkmark.svg" %}
                  </span>
                  <span class="text">
                    {% trans "Upload to DocumentCloud" %}
                  </span>
                </li>
                <li class="checklist-item">
                  <span class="checkmark icon">
                    {% include "core/icons/checkmark.svg" %}
                  </span>
                  <span class="text">
                    {% trans "Publish and embed documents" %}
                  </span>
                </li>
              </ul>
            </li>
          </ul>
        </main>
      </div>
    </main>
  </section>
</article>
{% endblock %}
